<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:munit="http://www.mulesoft.org/schema/mule/munit" xmlns:munit-tools="http://www.mulesoft.org/schema/mule/munit-tools"
	xmlns="http://www.mulesoft.org/schema/mule/core" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
	xsi:schemaLocation="
		http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
		http://www.mulesoft.org/schema/mule/munit http://www.mulesoft.org/schema/mule/munit/current/mule-munit.xsd
		http://www.mulesoft.org/schema/mule/munit-tools  http://www.mulesoft.org/schema/mule/munit-tools/current/mule-munit-tools.xsd">
	<munit:config name="student-experience-api-test-suite.xml" />
	<munit:test name="student-experience-api-test-suite-get:\students:student-experience-api-configTest1" doc:id="45831641-bd39-4fce-8b25-b7f78a1cc8e0" description="Test" >
		<munit:behavior >
			<munit-tools:mock-when doc:name="Mock when" doc:id="544f62d6-fa90-421a-b963-8f59c9ad9a59" processor="http:request" >
				<munit-tools:with-attributes >
					<munit-tools:with-attribute whereValue="Request to call get-Students in process-api" attributeName="doc:name" />
					<munit-tools:with-attribute whereValue="34439c41-30f0-47ef-ac1f-9ad272a18fc8" attributeName="doc:id" />
					<munit-tools:with-attribute whereValue="${http.path}" attributeName="path" />
				</munit-tools:with-attributes>
				<munit-tools:then-return >
					<munit-tools:payload value='#[[&#10;  {&#10;    "student_id": 1,&#10;    "student_name": "John Doe",&#10;    "email": "john@example.com",&#10;    "phone_number": "1234567890",&#10;    "date_of_joining": "2025-08-01",&#10;    "has_joined": "Yes"&#10;  }&#10;]]' />
				</munit-tools:then-return>
			</munit-tools:mock-when>
		</munit:behavior>
		<munit:execution >
			<munit:set-event doc:name="Set Event" doc:id="c9547ca0-1ead-4f94-814c-4ca75870d3e3">
				<munit:attributes value='#[{&#10;  "queryParams": {&#10;    "has_joined": "Yes"&#10;  }&#10;}]' />
			</munit:set-event>
			<flow-ref doc:name="Flow-ref to get:\students:student-experience-api-config" doc:id="aacaa432-68b1-4c32-9365-0ac46e733981" name="get:\students:student-experience-api-config" />
		</munit:execution>
		<munit:validation >
			<munit-tools:assert-that doc:name="Assert that" doc:id="b588991c-6342-49cd-9613-eedf7bac201d" expression="#[payload]" is='#[MunitTools::equalTo([&#10;  {&#10;    "student_id": 1,&#10;    "student_name": "John Doe",&#10;    "email": "john@example.com",&#10;    "phone_number": "1234567890",&#10;    "date_of_joining": "2025-08-01",&#10;    "has_joined": "Yes"&#10;  }&#10;])]' />
		</munit:validation>
	</munit:test>
	<munit:test name="student-experience-api-test-suite-post:\students:application\json:student-experience-api-configTest" doc:id="db2311fe-4e97-41a0-9784-d6f4cce10550" description="Test">
		<munit:behavior >
			<munit-tools:mock-when doc:name="Mock when" doc:id="b1385532-7503-4c4b-af70-df4d6c8408d4" processor="http:request">
				<munit-tools:with-attributes >
					<munit-tools:with-attribute whereValue="Request to call post-Student in process-api" attributeName="doc:name" />
					<munit-tools:with-attribute whereValue="3cb861d6-e895-4b7e-88d4-71d3a433fa2f" attributeName="doc:id" />
					<munit-tools:with-attribute whereValue="${http.path}" attributeName="path" />
				</munit-tools:with-attributes>
				<munit-tools:then-return >
					<munit-tools:payload value='#[{&#10;  "message": "Student added successfully"&#10;}]' />
				</munit-tools:then-return>
			</munit-tools:mock-when>
		</munit:behavior>
		<munit:execution >
			<munit:set-event doc:name="Set Event" doc:id="23f0684d-fbbe-46ac-8e32-b10b43462a96">
				<munit:payload value='#[{&#10;  "student_name": "John Doe",&#10;  "email": "john@example.com",&#10;  "phone_number": "1234567890",&#10;  "date_of_joining": "2025-08-01",&#10;  "has_joined": "Yes"&#10;}]' />
			</munit:set-event>
			<flow-ref doc:name="Flow-ref to post:\students:application\json:student-experience-api-config" doc:id="52c9326c-5906-41e9-8edf-19c9c5f4ec4d" name="post:\students:application\json:student-experience-api-config"/>
		</munit:execution>
		<munit:validation >
			<munit-tools:assert-that doc:name="Assert that" doc:id="21404bbe-5058-452d-a076-e53080fee770" expression="#[payload]" is='#[MunitTools::equalTo({&#10;  message: "Student added successfully"&#10;})]'/>
		</munit:validation>
	</munit:test>
	<munit:test name="student-experience-api-test-suite-student-experience-api-mainTest" doc:id="e26210bb-8b47-407f-b451-db3629ed89db" description="Test" expectedErrorType="APIKIT:BAD_REQUEST">
		<munit:behavior >
			<munit-tools:mock-when doc:name="Mock when" doc:id="e92d0191-87e4-4b39-b71f-1e790664cea7" processor="apikit:router">
				<munit-tools:with-attributes >
					<munit-tools:with-attribute whereValue="student-experience-api-config" attributeName="config-ref" />
				</munit-tools:with-attributes>
				<munit-tools:then-return >
					<munit-tools:error typeId="APIKIT:BAD_REQUEST" />
				</munit-tools:then-return>
			</munit-tools:mock-when>
		</munit:behavior>
		<munit:execution >
			<flow-ref doc:name="Flow-ref to student-experience-api-main" doc:id="8cafee16-7717-42f4-b1f8-7cc590c51de4" name="student-experience-api-main"/>
		</munit:execution>
	</munit:test>
	<munit:test name="student-experience-api-test-suite-student-experience-api-mainTest1" doc:id="df099693-1907-4955-bb06-540dbaba7841" description="Test" expectedErrorType="APIKIT:NOT_FOUND">
		<munit:behavior >
			<munit-tools:mock-when doc:name="Mock when" doc:id="c74f8877-b975-45aa-9ab5-4e078e148117" processor="apikit:router">
				<munit-tools:with-attributes >
					<munit-tools:with-attribute whereValue="student-experience-api-config" attributeName="config-ref" />
				</munit-tools:with-attributes>
				<munit-tools:then-return >
					<munit-tools:error typeId="APIKIT:NOT_FOUND" />
				</munit-tools:then-return>
			</munit-tools:mock-when>
		</munit:behavior>
		<munit:execution >
			<flow-ref doc:name="Flow-ref to student-experience-api-main" doc:id="9c90b1bd-9ac5-4f57-98a3-cf78a3f7b55d" name="student-experience-api-main"/>
		</munit:execution>
	</munit:test>
	<munit:test name="student-experience-api-test-suite-student-experience-api-mainTest2" doc:id="cfdce625-d542-4ffc-98b8-2f6c429a30de" description="Test" expectedErrorType="APIKIT:NOT_ACCEPTABLE">
		<munit:behavior >
			<munit-tools:mock-when doc:name="Mock when" doc:id="e8288f99-b49d-4433-b2ab-8ff474f44d74" processor="apikit:router">
				<munit-tools:with-attributes >
					<munit-tools:with-attribute whereValue="student-experience-api-config" attributeName="config-ref" />
				</munit-tools:with-attributes>
				<munit-tools:then-return >
					<munit-tools:error typeId="APIKIT:NOT_ACCEPTABLE" />
				</munit-tools:then-return>
			</munit-tools:mock-when>
		</munit:behavior>
		<munit:execution >
			<flow-ref doc:name="Flow-ref to student-experience-api-main" doc:id="7383062a-6130-4520-a213-32db98ae857e" name="student-experience-api-main"/>
		</munit:execution>
	</munit:test>
	<munit:test name="student-experience-api-test-suite-student-experience-api-mainTest3" doc:id="dc5b9907-496c-49a9-9b21-a6b0f6afd782" description="Test" expectedErrorType="APIKIT:UNSUPPORTED_MEDIA_TYPE">
		<munit:behavior >
			<munit-tools:mock-when doc:name="Mock when" doc:id="ee311a14-dcff-4e4b-90a2-09c192b78f4b" processor="apikit:router">
				<munit-tools:with-attributes >
					<munit-tools:with-attribute whereValue="student-experience-api-config" attributeName="config-ref" />
				</munit-tools:with-attributes>
				<munit-tools:then-return >
					<munit-tools:error typeId="APIKIT:UNSUPPORTED_MEDIA_TYPE" />
				</munit-tools:then-return>
			</munit-tools:mock-when>
		</munit:behavior>
		<munit:execution >
			<flow-ref doc:name="Flow-ref to student-experience-api-main" doc:id="73e68311-3805-4d8f-9985-06b7d548eb1a" name="student-experience-api-main"/>
		</munit:execution>
	</munit:test>
	<munit:test name="student-experience-api-test-suite-student-experience-api-mainTest4" doc:id="61774dcb-a76d-4228-ad44-b45c01ed0bf9" description="Test" expectedErrorType="APIKIT:METHOD_NOT_ALLOWED">
		<munit:behavior >
			<munit-tools:mock-when doc:name="Mock when" doc:id="eb79cf67-f680-45c7-901a-2f5d6d174b1c" processor="apikit:router">
				<munit-tools:with-attributes >
					<munit-tools:with-attribute whereValue="student-experience-api-config" attributeName="config-ref" />
				</munit-tools:with-attributes>
				<munit-tools:then-return >
					<munit-tools:error typeId="APIKIT:METHOD_NOT_ALLOWED" />
				</munit-tools:then-return>
			</munit-tools:mock-when>
		</munit:behavior>
		<munit:execution >
			<flow-ref doc:name="Flow-ref to student-experience-api-main" doc:id="84faba6b-8a13-410e-a5e5-232c221b93c8" name="student-experience-api-main"/>
		</munit:execution>
	</munit:test>
	<munit:test name="student-experience-api-test-suite-student-experience-api-mainTest5" doc:id="31955bfc-837e-4aa1-90b1-f2d5bfaed653" description="Test" expectedErrorType="APIKIT:NOT_IMPLEMENTED">
		<munit:behavior >
			<munit-tools:mock-when doc:name="Mock when" doc:id="2451b047-716e-46da-8693-a77bcce4378e" processor="apikit:router">
				<munit-tools:with-attributes >
					<munit-tools:with-attribute whereValue="student-experience-api-config" attributeName="config-ref" />
				</munit-tools:with-attributes>
				<munit-tools:then-return >
					<munit-tools:error typeId="APIKIT:NOT_IMPLEMENTED" />
				</munit-tools:then-return>
			</munit-tools:mock-when>
		</munit:behavior>
		<munit:execution >
			<flow-ref doc:name="Flow-ref to student-experience-api-main" doc:id="ad1705e7-1cf9-4564-bdc1-21b261e47310" name="student-experience-api-main"/>
		</munit:execution>
	</munit:test>
	<munit:test name="student-experience-api-test-suite-student-experience-api-mainTest6" doc:id="183f0231-daef-4a24-b158-d725c50ad520" description="Test">
		<munit:behavior >
			<munit-tools:mock-when doc:name="Mock when" doc:id="e05c4d2e-2c89-406b-a969-d799874e4123" processor="http:request">
				<munit-tools:with-attributes >
					<munit-tools:with-attribute whereValue="Request to call patch-students in process-api" attributeName="doc:name" />
					<munit-tools:with-attribute whereValue="f0ac7bc0-2216-409a-bb65-e1e0532f4323" attributeName="doc:id" />
					<munit-tools:with-attribute whereValue="${http.path}/{student_id}" attributeName="path" />
				</munit-tools:with-attributes>
				<munit-tools:then-return >
					<munit-tools:error typeId="HTTP:NOT_FOUND" />
				</munit-tools:then-return>
			</munit-tools:mock-when>
		</munit:behavior>
		<munit:execution >
			<flow-ref doc:name="Flow-ref to student-experience-api-main" doc:id="24adbb91-b073-4cfb-afb7-6bf4b3af0b47" name="patch:\students\(student_id):application\json:student-experience-api-config"/>
		</munit:execution>
	</munit:test>
	<munit:test name="student-experience-api-test-suite-student-experience-api-mainTest7" doc:id="2389cf4b-43cd-4770-87df-8ef50bee11c0" description="Test">
		<munit:behavior >
			<munit-tools:mock-when doc:name="Mock when" doc:id="5a92c8ac-870d-4434-acf2-41286df39721" processor="http:request">
				<munit-tools:with-attributes >
					<munit-tools:with-attribute whereValue="Request to call patch-students in process-api" attributeName="doc:name" />
					<munit-tools:with-attribute whereValue="f0ac7bc0-2216-409a-bb65-e1e0532f4323" attributeName="doc:id" />
					<munit-tools:with-attribute whereValue="${http.path}/{student_id}" attributeName="path" />
				</munit-tools:with-attributes>
				<munit-tools:then-return >
					<munit-tools:error typeId="HTTP:INTERNAL_SERVER_ERROR" />
				</munit-tools:then-return>
			</munit-tools:mock-when>
		</munit:behavior>
		<munit:execution >
			<flow-ref doc:name="Flow-ref to student-experience-api-main" doc:id="ffaa6911-8be0-4ebd-a8c4-ab859119d29b" name="patch:\students\(student_id):application\json:student-experience-api-config"/>
		</munit:execution>
	</munit:test>
	<munit:test name="student-experience-api-test-suite-student-experience-api-mainTest8" doc:id="6ec98409-cefd-442a-a1dc-905e4a16d162" description="Test">
		<munit:behavior >
			<munit-tools:mock-when doc:name="Mock when" doc:id="ffc7f17e-0609-49bb-8a34-ab09f809801d" processor="http:request">
				<munit-tools:with-attributes >
					<munit-tools:with-attribute whereValue="Request to call patch-students in process-api" attributeName="doc:name" />
					<munit-tools:with-attribute whereValue="f0ac7bc0-2216-409a-bb65-e1e0532f4323" attributeName="doc:id" />
					<munit-tools:with-attribute whereValue="${http.path}/{student_id}" attributeName="path" />
				</munit-tools:with-attributes>
				<munit-tools:then-return >
					<munit-tools:error typeId="HTTP:SERVICE_UNAVAILABLE" />
				</munit-tools:then-return>
			</munit-tools:mock-when>
		</munit:behavior>
		<munit:execution >
			<flow-ref doc:name="Flow-ref to student-experience-api-main" doc:id="07b72785-a4c0-4122-8949-0eee93ca83de" name="patch:\students\(student_id):application\json:student-experience-api-config"/>
		</munit:execution>
	</munit:test>
	<munit:test name="student-experience-api-test-suite-student-experience-api-mainTest9" doc:id="b158e6ca-3f04-43df-afe5-91acca10e136" description="Test">
		<munit:behavior >
			<munit-tools:mock-when doc:name="Mock when" doc:id="ce32c1a3-f1f6-46fa-8f15-0e43613d478d" processor="http:request">
				<munit-tools:with-attributes >
					<munit-tools:with-attribute whereValue="Request to call patch-students in process-api" attributeName="doc:name" />
					<munit-tools:with-attribute whereValue="f0ac7bc0-2216-409a-bb65-e1e0532f4323" attributeName="doc:id" />
					<munit-tools:with-attribute whereValue="${http.path}/{student_id}" attributeName="path" />
				</munit-tools:with-attributes>
				<munit-tools:then-return >
					<munit-tools:error typeId="HTTP:TIMEOUT" />
				</munit-tools:then-return>
			</munit-tools:mock-when>
		</munit:behavior>
		<munit:execution >
			<flow-ref doc:name="Flow-ref to student-experience-api-main" doc:id="0c075ac1-d5da-4a3f-9758-21952a73ee82" name="patch:\students\(student_id):application\json:student-experience-api-config"/>
		</munit:execution>
	</munit:test>
	<munit:test name="student-experience-api-test-suite-student-experience-api-mainTest10" doc:id="251768f8-c403-414c-9981-aff98c1d80b6" description="Test">
		<munit:behavior >
			<munit-tools:mock-when doc:name="Mock when" doc:id="7f156fba-d222-43d9-b8a0-f500f06bf447" processor="http:request">
				<munit-tools:with-attributes >
					<munit-tools:with-attribute whereValue="PATCH" attributeName="method" />
					<munit-tools:with-attribute whereValue="Request to call patch-students in process-api" attributeName="doc:name" />
					<munit-tools:with-attribute whereValue="f0ac7bc0-2216-409a-bb65-e1e0532f4323" attributeName="doc:id" />
					<munit-tools:with-attribute whereValue="${http.path}/{student_id}" attributeName="path" />
				</munit-tools:with-attributes>
				<munit-tools:then-return >
					<munit-tools:error typeId="HTTP:UNAUTHORIZED" />
				</munit-tools:then-return>
			</munit-tools:mock-when>
		</munit:behavior>
		<munit:execution >
			<flow-ref doc:name="Flow-ref to student-experience-api-main" doc:id="e1e4b257-9bc8-4c53-8a6a-0c6d78c78bb5" name="patch:\students\(student_id):application\json:student-experience-api-config"/>
		</munit:execution>
	</munit:test>
	<munit:test name="student-experience-api-test-suite-student-experience-api-mainTest11" doc:id="840105e7-77ae-4170-95bf-44eca1e398ee" description="Test">
		<munit:behavior >
			<munit-tools:mock-when doc:name="Mock when" doc:id="94fef346-ed68-4283-87ed-e3379d73ca3e" processor="http:request">
				<munit-tools:with-attributes >
					<munit-tools:with-attribute whereValue="Request to call patch-students in process-api" attributeName="doc:name" />
					<munit-tools:with-attribute whereValue="f0ac7bc0-2216-409a-bb65-e1e0532f4323" attributeName="doc:id" />
					<munit-tools:with-attribute whereValue="${http.path}/{student_id}" attributeName="path" />
				</munit-tools:with-attributes>
				<munit-tools:then-return >
					<munit-tools:error typeId="HTTP:FORBIDDEN" />
				</munit-tools:then-return>
			</munit-tools:mock-when>
		</munit:behavior>
		<munit:execution >
			<flow-ref doc:name="Flow-ref to student-experience-api-main" doc:id="695014e4-3c1c-4abc-b707-dfcba769b00f" name="patch:\students\(student_id):application\json:student-experience-api-config"/>
		</munit:execution>
	</munit:test>
	<munit:test name="student-experience-api-test-suite-student-experience-api-mainTest12" doc:id="b4f1e717-480d-4781-8d04-7f3038b574d6" description="Test" expectedErrorType="ANY">
		<munit:behavior >
			<munit-tools:mock-when doc:name="Mock when" doc:id="875b2ab6-395f-424c-b3a8-8f53ee4f6687" processor="apikit:router">
				<munit-tools:with-attributes >
					<munit-tools:with-attribute whereValue="student-experience-api-config" attributeName="config-ref" />
				</munit-tools:with-attributes>
				<munit-tools:then-return >
					<munit-tools:error typeId="ANY" />
				</munit-tools:then-return>
			</munit-tools:mock-when>
		</munit:behavior>
		<munit:execution >
			<flow-ref doc:name="Flow-ref to student-experience-api-main" doc:id="c73ee3b3-5cc5-4c28-a8ac-4c8dae2391a0" name="patch:\students\(student_id):application\json:student-experience-api-config"/>
		</munit:execution>
	</munit:test>
	<munit:test name="student-experience-api-test-suite-patch:\students\(student_id):application\json:student-experience-api-configTest1" doc:id="93a24a84-0f40-4790-b17f-44d8ec76210c" description="Test">
		<munit:behavior >
			<munit-tools:mock-when doc:name="Mock when" doc:id="3f6023ef-ec4a-4c8a-94d9-086763f6ec79" processor="http:request" >
				<munit-tools:with-attributes >
					<munit-tools:with-attribute whereValue="Request to call patch-students in process-api" attributeName="doc:name" />
					<munit-tools:with-attribute whereValue="f0ac7bc0-2216-409a-bb65-e1e0532f4323" attributeName="doc:id" />
					<munit-tools:with-attribute whereValue="${http.path}/{student_id}" attributeName="path" />
				</munit-tools:with-attributes>
				<munit-tools:then-return >
					<munit-tools:payload value='#[{&#10;  "student_id": 1,&#10;  "student_name": "John Doe",&#10;  "email": "john@example.com",&#10;  "phone_number": "1234567890",&#10;  "date_of_joining": "2025-08-01",&#10;  "has_joined": "Yes"&#10;}]' />
				</munit-tools:then-return>
			</munit-tools:mock-when>
		</munit:behavior>
		<munit:execution >
			<munit:set-event doc:name="Set Event" doc:id="bfb761af-c6b9-46b9-9012-b89cfb88ef9f">
				<munit:payload value='#[{&#10;  "has_joined": "Yes"&#10;}]' />
				<munit:variables>
					<munit:variable key="student_id" value="1" />
				</munit:variables>
			</munit:set-event>
			<flow-ref doc:name="Flow-ref to patch:\students\(student_id):application\json:student-experience-api-config" doc:id="35c9d7bd-90c0-4f12-949c-77d5c88c757d" name="patch:\students\(student_id):application\json:student-experience-api-config"/>
		</munit:execution>
		<munit:validation >
			<munit-tools:assert-that doc:name="Assert that" doc:id="50c80ac4-af29-4432-a5f8-a2c0a8cfa5d5" expression="#[payload]" is='#[MunitTools::equalTo({&#10;  "student_id": 1,&#10;  "student_name": "John Doe",&#10;  "email": "john@example.com",&#10;  "phone_number": "1234567890",&#10;  "date_of_joining": "2025-08-01",&#10;  "has_joined": "Yes"&#10;})]' />
		</munit:validation>
	</munit:test>


</mule>
